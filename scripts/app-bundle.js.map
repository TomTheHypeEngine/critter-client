{"version":3,"sources":["app.js","environment.js","home.js","main.js","utils/date-format.js","resources/index.js","services/async-http-client.js","services/fixtures.js","services/messages.js","services/tweet-service.js","utils/prompt/prompt.js","viewmodels/account_settings/account_settings.js","viewmodels/admin/tweet_administration.js","viewmodels/admin/user_administration.js","viewmodels/dashboard/dashboard.js","viewmodels/followed_users/followed_users.js","viewmodels/global_timeline/global_timeline.js","viewmodels/login/login.js","viewmodels/logout/logout.js","viewmodels/signup/signup.js","viewmodels/tweet/tweet.js","viewmodels/tweet_timeline/tweet_timeline.js","viewmodels/user_timeline/user_timeline.js","/home/thomas/Programmieren/WebstormProjects/critter-client/node_modules/aurelia-dialog/dist/amd/ai-dialog.js","/home/thomas/Programmieren/WebstormProjects/critter-client/node_modules/aurelia-dialog/dist/amd/ai-dialog-header.js","/home/thomas/Programmieren/WebstormProjects/critter-client/node_modules/aurelia-dialog/dist/amd/dialog-controller.js","/home/thomas/Programmieren/WebstormProjects/critter-client/node_modules/aurelia-dialog/dist/amd/lifecycle.js","/home/thomas/Programmieren/WebstormProjects/critter-client/node_modules/aurelia-dialog/dist/amd/dialog-result.js","/home/thomas/Programmieren/WebstormProjects/critter-client/node_modules/aurelia-dialog/dist/amd/ai-dialog-body.js","/home/thomas/Programmieren/WebstormProjects/critter-client/node_modules/aurelia-dialog/dist/amd/ai-dialog-footer.js","/home/thomas/Programmieren/WebstormProjects/critter-client/node_modules/aurelia-dialog/dist/amd/attach-focus.js","/home/thomas/Programmieren/WebstormProjects/critter-client/node_modules/aurelia-dialog/dist/amd/dialog-configuration.js","/home/thomas/Programmieren/WebstormProjects/critter-client/node_modules/aurelia-dialog/dist/amd/renderer.js","/home/thomas/Programmieren/WebstormProjects/critter-client/node_modules/aurelia-dialog/dist/amd/dialog-renderer.js","/home/thomas/Programmieren/WebstormProjects/critter-client/node_modules/aurelia-dialog/dist/amd/dialog-options.js","/home/thomas/Programmieren/WebstormProjects/critter-client/node_modules/aurelia-dialog/dist/amd/dialog-service.js","/home/thomas/Programmieren/WebstormProjects/critter-client/src/app.html","/home/thomas/Programmieren/WebstormProjects/critter-client/src/home.html","/home/thomas/Programmieren/WebstormProjects/critter-client/src/nav-bar.html","/home/thomas/Programmieren/WebstormProjects/critter-client/src/utils/prompt/prompt.html","/home/thomas/Programmieren/WebstormProjects/critter-client/src/viewmodels/account_settings/account_settings.html","/home/thomas/Programmieren/WebstormProjects/critter-client/src/viewmodels/admin/tweet_administration.html","/home/thomas/Programmieren/WebstormProjects/critter-client/src/viewmodels/admin/user_administration.html","/home/thomas/Programmieren/WebstormProjects/critter-client/src/viewmodels/dashboard/dashboard.html","/home/thomas/Programmieren/WebstormProjects/critter-client/src/viewmodels/followed_users/followed_users.html","/home/thomas/Programmieren/WebstormProjects/critter-client/src/viewmodels/global_timeline/global_timeline.html","/home/thomas/Programmieren/WebstormProjects/critter-client/src/viewmodels/login/login.html","/home/thomas/Programmieren/WebstormProjects/critter-client/src/viewmodels/logout/logout.html","/home/thomas/Programmieren/WebstormProjects/critter-client/src/viewmodels/signup/signup.html","/home/thomas/Programmieren/WebstormProjects/critter-client/src/viewmodels/tweet/tweet.html","/home/thomas/Programmieren/WebstormProjects/critter-client/src/viewmodels/tweet_timeline/tweet_timeline.html","/home/thomas/Programmieren/WebstormProjects/critter-client/src/viewmodels/user_timeline/user_timeline.html"],"names":["App","ts","au","ea","subscribe","msg","status","success","setRoot","then","router","navigateToRoute","configureRouter","config","map","route","name","moduleId","nav","title","redirect","mapUnknownRoutes","fallbackRoute","attached","isAuthenticated","debug","testing","Home","aurelia","configure","Promise","warnings","wForgottenReturn","use","standardConfiguration","feature","plugin","developmentLogging","start","DateFormatValueConverter","toView","value","format","AsyncHttpClient","httpClient","fixtures","http","withBaseUrl","baseUrl","authenticate","url","user","message","post","response","content","localStorage","tweet","JSON","stringify","configuration","withHeader","token","publish","catch","clearAuthentication","authenticated","auth","parse","get","obj","delete","Fixtures","LoginStatus","TimelineUpdate","tweets","UserUpdate","users","UserTimelineLoaded","data","UserFollowersLoaded","userWithFollowers","TweetService","ac","loggedInUser","getLoggedInUser","getUsers","res","getUserWithFollowersPopulated","id","followUser","unfollowerId","_id","statusCode","unfollowUser","getUserTweets","updateUser","resetUserPassword","newPassword","getTweets","tweeter","tweetDate","returnedTweets","push","deleteTweet","register","firstName","lastName","email","password","newUser","deleteUser","admin","deleteUserTweets","login","logout","Prompt","controller","answer","settings","centerHorizontalOnly","activate","AccountSettings","ds","oldPassword","repeatPassword","dialogService","console","log","updateAccount","e","open","viewModel","model","wasCancelled","TweetAdministration","globalTweets","UserAdministration","userList","updatePassword","UserTimeline","userName","userTweets","goToAdminUserManagement","goToAdminTweetManagement","FollowedUsers","goToUsersTimeline","GlobalTimeline","Login","Logout","Signup","tweetText","makeTweet","TweetTimeline","length","params","followedUsers","pop"],"mappings":"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qCd,EAArC;AACA,iBAAK/E,MAAL,CAAYC,eAAZ,CAA4B,gBAA5B;AACD,SAJD,MAIO;AACLoH,kBAAQC,GAAR,CAAY,WAAZ;AACD;AACF,OARD;AASD;;2BAEDlC,qCAAaL,IAAI;AAAA;;AACf,WAAKkC,EAAL,CAAQQ,IAAR,CAAa,EAAEC,yBAAF,EAAqBC,OAAO,4BAA5B,EAAb,EAAwE5H,IAAxE,CAA6E,oBAAY;AACvF,YAAI,CAAC6C,SAASgF,YAAd,EAA4B;AAC1B,iBAAKrI,EAAL,CAAQ6F,YAAR,CAAqBL,EAArB,EAAyB,OAAKL,YAAL,CAAkBQ,GAA3C;AACA,iBAAKR,YAAL,CAAkBwE,aAAlB,CAAgCC,GAAhC,CAAoCpE,EAApC;AACA,iBAAK/E,MAAL,CAAYC,eAAZ,CAA4B,gBAA5B;AACD,SAJD,MAIO;AACLoH,kBAAQC,GAAR,CAAY,WAAZ;AACD;AACF,OARD;AASD;;;;;ACpEH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACfA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACjBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACrEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACxBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACjBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACfA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AChGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACjCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACxEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC5BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACrMA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACZA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC5GA;ACAA;ACAA;ACAA;ACAA;ACAA;ACAA;ACAA;ACAA;ACAA;ACAA;ACAA;ACAA;ACAA;ACAA;ACAA","file":"app-bundle.js","sourcesContent":["import {inject, Aurelia} from 'aurelia-framework';\nimport {EventAggregator} from 'aurelia-event-aggregator';\nimport {LoginStatus, ChangeRouteAfterLogout} from './services/messages';\nimport TweetService from './services/tweet-service';\n\n@inject(TweetService, Aurelia, EventAggregator)\nexport class App {\n\n  constructor(ts, au, ea) {\n    this.au = au;\n    this.ts = ts;\n    ea.subscribe(LoginStatus, msg => {\n      if (msg.status.success === true) {\n        au.setRoot('home').then(() => {\n          this.router.navigateToRoute('dashboard');\n        });\n      } else {\n        au.setRoot('app').then(() => {\n          this.router.navigateToRoute('login');\n        });\n      }\n    });\n  }\n\n  configureRouter(config, router) {\n    config.map([\n      { route: ['login', ''], name: 'login', moduleId: 'viewmodels/login/login', nav: true, title: 'Login' },\n      { route: 'logout', redirect: 'login' },\n      { route: 'signup', name: 'signup', moduleId: 'viewmodels/signup/signup', nav: true, title: 'Signup' }\n    ]);\n\n    config.mapUnknownRoutes(instruction => {\n      return 'login';\n    });\n    config.fallbackRoute('login');\n\n    this.router = router;\n  }\n\n  attached() {\n    if (this.ts.isAuthenticated()) {\n      this.au.setRoot('home').then(res => {\n        this.router.navigateToRoute('dashboard');\n      });\n    }\n  }\n}\n","export default {\n  debug: true,\n  testing: true\n};\n","import { inject, Aurelia } from 'aurelia-framework';\n// import {TweetService} from './services/tweet-service';\n\n@inject(Aurelia)\nexport class Home {\n\n  constructor(au) {\n    this.aurelia = au;\n    // this.ts = ts;\n  }\n\n  configureRouter(config, router) {\n    config.map([\n      //NavBar Routes\n      { route: 'dashboard', name: 'dashboard', moduleId: 'viewmodels/dashboard/dashboard', nav: true, title: 'Personal Dashboard' },\n      { route: ['tweet_timeline', ''], name: 'tweet_timeline', moduleId: 'viewmodels/tweet_timeline/tweet_timeline', nav: true, title: 'Global Tweets' },\n      { route: 'followed', name: 'followed_users', moduleId: 'viewmodels/followed_users/followed_users', nav: true, title: 'Followed Users' },\n      { route: 'account', name: 'account', moduleId: 'viewmodels/account_settings/account_settings', nav: true, title: 'Account' },\n      { route: 'logout', name: 'logout', moduleId: 'viewmodels/logout/logout', nav: true, title: 'Logout' },\n      //\"Hidden\" Routes\n      { route: 'user/:id/timeline', name: 'user_timeline', moduleId: 'viewmodels/user_timeline/user_timeline', nav: false, title: 'User Timeline' },\n      { route: 'admin/user_management', name: 'user_management', moduleId: 'viewmodels/admin/user_administration', nav: false},\n      { route: 'admin/tweet_management', name: 'tweet_management', moduleId: 'viewmodels/admin/tweet_administration', nav: false}\n\n    ]);\n\n    config.mapUnknownRoutes(instruction => {\n      return 'dashboard';\n    });\n\n    config.fallbackRoute('dashboard');\n\n    this.router = router;\n  }\n}\n","import environment from './environment';\n\n//Configure Bluebird Promises.\n//Note: You may want to use environment-specific configuration.\nPromise.config({\n  warnings: {\n    wForgottenReturn: false\n  }\n});\n\nexport function configure(aurelia) {\n  aurelia.use\n    .standardConfiguration()\n    .feature('resources')\n    .plugin('aurelia-dialog');\n\n  if (environment.debug) {\n    aurelia.use.developmentLogging();\n  }\n\n  if (environment.testing) {\n    aurelia.use.plugin('aurelia-testing');\n  }\n\n  aurelia.start().then(() => aurelia.setRoot());\n}\n","import moment from 'moment';\n\nexport class DateFormatValueConverter {\n  toView(value) {\n    return moment(value).format('HH:mm:ss DD.MM.YYYY');\n  }\n}\n","export function configure(config) {\n  //config.globalResources([]);\n}\n","import {inject} from 'aurelia-framework';\nimport {HttpClient} from 'aurelia-http-client';\nimport Fixtures from './fixtures';\nimport {EventAggregator} from 'aurelia-event-aggregator';\nimport {LoginStatus} from './messages';\n\n@inject(HttpClient, Fixtures, EventAggregator)\nexport default class AsyncHttpClient {\n\n  constructor(httpClient, fixtures, ea) {\n    this.http = httpClient;\n    this.http.configure(http => {\n      http.withBaseUrl(fixtures.baseUrl);\n    });\n    this.ea = ea;\n  }\n\n  authenticate(url, user) {\n    let status = {\n      success: false,\n      message: 'err while authenticating'\n    };\n    this.http.post(url, user).then(response => {\n      status = response.content;\n      if (status.success) {\n        localStorage.tweet = JSON.stringify(response.content);\n        this.http.configure(configuration => {\n          configuration.withHeader('Authorization', 'bearer ' + response.content.token);\n        });\n      }\n      this.ea.publish(new LoginStatus(status));\n    }).catch(error => {\n      status = {\n        success: false,\n        message: 'service not available'\n      };\n      this.ea.publish(new LoginStatus(status));\n    });\n    return status;\n  }\n\n  clearAuthentication() {\n    localStorage.tweet = null;\n    this.http.configure(configuration => {\n      configuration.withHeader('Authorization', '');\n    });\n  }\n\n  isAuthenticated() {\n    let authenticated = false;\n    //TODO Check for expiration of token hereW\n    if (localStorage.tweet && localStorage.tweet !== 'null') {\n      authenticated = true;\n      this.http.configure(http => {\n        const auth = JSON.parse(localStorage.tweet);\n        http.withHeader('Authorization', auth.token);\n      });\n    }\n    return authenticated;\n  }\n\n  get(url) {\n    return this.http.get(url);\n  }\n\n  post(url, obj) {\n    return this.http.post(url, obj);\n  }\n\n  delete(url) {\n    return this.http.delete(url);\n  }\n}\n","export default class Fixtures {\n\n  //baseUrl = 'http://localhost:5000';\n  baseUrl = 'https://critter-tweet-api.herokuapp.com'\n}\n","export class LoginStatus {\n  constructor(status) {\n    this.status = status;\n  }\n}\n\nexport class TimelineUpdate {\n  constructor(tweets) {\n    this.tweets = tweets;\n  }\n}\n\nexport class UserUpdate {\n  constructor(users) {\n    this.users = users;\n  }\n}\n\nexport class UserTimelineLoaded {\n  constructor(data) {\n    this.data = data;\n  }\n}\n\nexport class UserFollowersLoaded {\n  constructor(userWithFollowers) {\n    this.userWithFollowers = userWithFollowers;\n  }\n}\n\n","import {inject} from 'aurelia-framework';\nimport Fixtures from './fixtures';\nimport {LoginStatus, UserUpdate, TimelineUpdate, UserFollowersLoaded,\n  UserTimelineLoaded} from './messages';\nimport {EventAggregator} from 'aurelia-event-aggregator';\nimport AsyncHttpClient from './async-http-client';\n\n@inject(Fixtures, EventAggregator, AsyncHttpClient)\nexport default class TweetService {\n\n  tweets = [];\n  users = [];\n  loggedInUser = {};\n\n  constructor(data, ea, ac) {\n    // this.methods = data.methods;\n    this.ea = ea;\n    this.ac = ac;\n\n    ea.subscribe(LoginStatus, msg => {\n      if (msg.status) {\n        this.getLoggedInUser();\n      }\n    });\n  }\n\n  getUsers() {\n    this.ac.get('/api/users').then(res => {\n      this.users = res.content;\n      this.ea.publish(new UserUpdate(this.users));\n    });\n  }\n\n\n  getUserWithFollowersPopulated(id) {\n    this.ac.get('/api/users/' + id + '/follow').then(res => {\n      let userWithFollowers = res.content;\n      this.ea.publish(new UserFollowersLoaded(userWithFollowers));\n    });\n  }\n\n  followUser(id, unfollowerId) {\n    this.ac.post('/api/users/' + id + '/follow', this.loggedInUser._id).then(res => {\n      if (res.statusCode === 200) {\n        this.getUserWithFollowersPopulated(unfollowerId);\n      }\n    });\n  }\n\n  unfollowUser(id, unfollowerId) {\n    this.ac.post('/api/users/' + id + '/unfollow', unfollowerId).then(res => {\n      if (res.statusCode === 200) {\n        this.getUserWithFollowersPopulated(unfollowerId);\n      }\n    });\n  }\n\n  getUserTweets(id) {\n    this.ac.get('/api/users/' + id + '/tweets').then(res => {\n      this.ea.publish(new UserTimelineLoaded(res.content));\n    });\n  }\n\n  updateUser(user) {\n    this.ac.post('/api/users/' + user._id, user).then(res => {\n      this.getUsers();\n      this.loggedInUser = user;\n    });\n  }\n\n  resetUserPassword(user) {\n    this.ac.post('/api/users/' + user._id + '/password', user.newPassword).then(res =>{\n      this.getUsers();\n    });\n  }\n\n  getTweets() {\n    this.ac.get('/api/tweets').then(res => {\n      this.tweets = res.content;\n      this.ea.publish(new TimelineUpdate(this.tweets));\n    });\n  }\n\n  tweet(content) {\n    const tweet = {\n      tweeter: this.loggedInUser._id,\n      tweetDate: null,\n      content: content\n    };\n    this.ac.post('/api/tweets', tweet).then(res => {\n      const returnedTweets = res.content;\n      this.tweets.push(returnedTweets);\n      this.getTweets(); //Get all tweets again after posting a new one\n    });\n  }\n\n  deleteTweet(id) {\n    this.ac.delete('/api/tweets/' + id).then(res => {\n      this.getTweets();\n    });\n  }\n\n  isAuthenticated() {\n    return this.ac.isAuthenticated();\n  }\n\n  register(firstName, lastName, email, password) {\n    const newUser = {\n      firstName: firstName,\n      lastName: lastName,\n      email: email,\n      password: password\n    };\n    this.ac.post('/api/users', newUser);\n  }\n\n  deleteUser(id) {\n    if (this.loggedInUser.admin) {\n      this.ac.delete('/api/users/' + id).then(() => {\n        this.getUsers();\n      });\n    }\n  }\n\n  deleteUserTweets(id) {\n    if (this.loggedInUser.admin) {\n      this.ac.delete('/api/users/' + id + '/tweets');\n    }\n  }\n\n  login(email, password) {\n    const user = {\n      email: email,\n      password: password\n    };\n    this.ac.authenticate('/api/users/authenticate', user);\n  }\n\n  getLoggedInUser() {\n    if (localStorage.tweet && localStorage.tweet !== 'null') {\n      let auth = JSON.parse(localStorage.tweet);\n      this.loggedInUser = auth.user;\n      return this.loggedInUser;\n    }\n  }\n\n  logout() {\n    const status = {\n      success: false,\n      message: 'Logging out'\n    };\n    this.ac.clearAuthentication();\n    this.ea.publish(new LoginStatus(new LoginStatus(status)));\n  }\n}\n","import {inject} from 'aurelia-framework';\nimport {DialogController} from 'aurelia-dialog';\n\n@inject(DialogController)\nexport class Prompt {\n\n  constructor(controller){\n    this.controller = controller;\n    this.answer = null;\n\n    controller.settings.centerHorizontalOnly = true;\n  }\n\n  activate(message) {\n    this.message = message;\n  }\n}\n","import {inject} from 'aurelia-framework';\nimport TweetService from '../../services/tweet-service';\nimport {DialogService} from 'aurelia-dialog';\nimport {Prompt} from '../../utils/prompt/prompt';\n\n@inject(TweetService, DialogService)\nexport class AccountSettings {\n\n  user = {};\n  oldPassword = '';\n  newPassword = '';\n  repeatPassword = '';\n\n  constructor(ts, ds) {\n    this.ts = ts;\n    this.user = ts.loggedInUser;\n    this.dialogService = ds;\n    console.log(this.loggedInUser);\n  }\n\n  updateAccount(e) {\n    this.ds.open({ viewModel: Prompt, model: 'Update your account?'}).then(response => {\n      if (!response.wasCancelled) {\n        if (this.repeatPassword === this.newPassword) {\n          this.user.oldPassword = this.oldPassword;\n          this.user.password = this.newPassword;\n          this.ts.updateUser(this.user);\n        }\n        this.repeatPassword = '';\n        this.oldPassword = '';\n        this.repeatPassword = '';\n      }\n    });\n  }\n}\n","import {inject} from 'aurelia-framework';\nimport TweetService from '../../services/tweet-service';\nimport {EventAggregator} from 'aurelia-event-aggregator';\nimport {TimelineUpdate} from '../../services/messages';\nimport {DialogService} from 'aurelia-dialog';\nimport {Prompt} from '../../utils/prompt/prompt';\n\n@inject(TweetService, EventAggregator, DialogService)\nexport class TweetAdministration {\n\n  loggedInUser = null;\n  globalTweets = [];\n\n  constructor(ts, ea, ds) {\n    this.ts = ts;\n    this.ea = ea;\n    this.ds = ds;\n    this.loggedInUser = this.ts.loggedInUser;\n    this.ea.subscribe(TimelineUpdate, res => {\n      this.globalTweets = res.tweets;\n    });\n  }\n\n  attached() {\n    this.ts.getTweets();\n  }\n\n  deleteTweet(id) {\n    this.ds.open({ viewModel: Prompt, model: 'Really delete this tweet?'}).then(response => {\n      if (!response.wasCancelled) {\n        this.ts.deleteTweet(id);\n      } else {\n        console.log('Cancelled');\n      }\n    });\n  }\n}\n","import {inject} from 'aurelia-framework';\nimport TweetService from '../../services/tweet-service';\nimport {EventAggregator} from 'aurelia-event-aggregator';\nimport {UserUpdate} from '../../services/messages';\nimport {DialogService} from 'aurelia-dialog';\nimport {Prompt} from '../../utils/prompt/prompt';\n\n@inject(TweetService, EventAggregator, DialogService)\nexport class UserAdministration {\n\n  userList = [];\n  loggedInUser = null;\n\n  constructor(ts, ea, ds) {\n    this.ts = ts;\n    this.ea = ea;\n    this.ds = ds;\n    this.loggedInUser = this.ts.loggedInUser;\n    this.ea.subscribe(UserUpdate, res => {\n      this.userList = res.users;\n    });\n  }\n\n  attached() {\n    this.ts.getUsers();\n  }\n\n  updatePassword(user) {\n    this.ds.open({ viewModel: Prompt, model: 'Reset users password?'}).then(response => {\n      if (!response.wasCancelled) {\n        this.ts.resetUserPassword(user);\n        user.newPassword = '';\n      } else {\n        console.log('Cancelled');\n      }\n    });\n  }\n\n  deleteUser(id) {\n    this.ds.open({ viewModel: Prompt, model: 'Really delete this user?'}).then(response => {\n      if (!response.wasCancelled) {\n        this.ts.deleteUser(id);\n      } else {\n        console.log('Cancelled');\n      }\n    });\n  }\n\n  deleteUserTweets(id) {\n    this.ds.open({ viewModel: Prompt, model: 'Delete all Tweets of this user?'}).then(response => {\n      if (!response.wasCancelled) {\n        this.ts.deleteUserTweets(id);\n      } else {\n        console.log('Cancelled');\n      }\n    });\n  }\n}\n","import {inject} from 'aurelia-framework';\nimport TweetService from '../../services/tweet-service';\nimport {EventAggregator} from 'aurelia-event-aggregator';\nimport {Router} from 'aurelia-router';\nimport {UserTimelineLoaded, TimelineUpdate} from '../../services/messages';\nimport {DialogService} from 'aurelia-dialog';\nimport {Prompt} from '../../utils/prompt/prompt';\n\n@inject(TweetService, EventAggregator, Router, DialogService)\nexport class UserTimeline {\n\n  userName = '';\n  userTweets = [];\n  loggedInUser = null;\n\n  constructor(ts, ea, router, ds) {\n    this.ts = ts;\n    this.ea = ea;\n    this.ds = ds;\n    this.router = router;\n    this.loggedInUser = this.ts.getLoggedInUser();\n    this.userName = this.loggedInUser.firstName;\n    // this.ts.getUserTweets(this.loggedInUser._id);\n    ea.subscribe(UserTimelineLoaded, res => {\n      this.userTweets = res.data;\n      // if (this.userTweets.length) {\n      //   this.userName = this.userTweets[0].tweeter.firstName + ' ' + this.userTweets[0].tweeter.lastName;\n      // }\n    });\n    ea.subscribe(TimelineUpdate, res => {\n      this.ts.getUserTweets(this.loggedInUser._id);\n    });\n  }\n\n  activate() {\n    this.ts.getUserTweets(this.loggedInUser._id);\n  }\n\n  deleteTweet(id) {\n    this.ds.open({ viewModel: Prompt, model: 'Really delete this tweet?'}).then(response => {\n      if (!response.wasCancelled) {\n        this.ts.deleteTweet(id);\n      } else {\n        console.log('Cancelled');\n      }\n    });\n  }\n\n  goToAdminUserManagement() {\n    this.router.navigateToRoute('user_management');\n  }\n\n  goToAdminTweetManagement() {\n    this.router.navigateToRoute('tweet_management');\n  }\n}\n","import {inject} from 'aurelia-framework';\nimport TweetService from '../../services/tweet-service';\nimport {EventAggregator} from 'aurelia-event-aggregator';\nimport {UserFollowersLoaded} from '../../services/messages';\nimport {Router} from 'aurelia-router';\nimport {DialogService} from 'aurelia-dialog';\nimport {Prompt} from '../../utils/prompt/prompt';\n\n@inject(TweetService, EventAggregator, Router, DialogService)\nexport class FollowedUsers {\n\n  user = null;\n  loggedInUser = null;\n\n  constructor(ts, ea, router, ds) {\n    this.ts = ts;\n    this.ea = ea;\n    this.router = router;\n    this.ds = ds;\n    this.loggedInUser = this.ts.loggedInUser;\n    this.user = this.ts.loggedInUser;\n    this.ea.subscribe(UserFollowersLoaded, res => {\n      this.user = res.userWithFollowers;\n    });\n  }\n\n  attached() {\n    this.ts.getUserWithFollowersPopulated(this.ts.loggedInUser._id);\n  }\n\n  unfollowUser(id) {\n    this.ds.open({ viewModel: Prompt, model: 'Really unfollow this user?'}).then(response => {\n      if (!response.wasCancelled) {\n        this.ts.unfollowUser(id, this.loggedInUser._id);\n      } else {\n        console.log('Cancelled');\n      }\n    });\n  }\n\n  goToUsersTimeline(id) {\n    this.router.navigateToRoute('user_timeline', {id: id});\n  }\n}\n","import {inject} from 'aurelia-framework';\nimport {EventAggregator} from 'aurelia-event-aggregator';\nimport {TimelineUpdate} from '../../services/messages';\nimport TweetService from '../../services/tweet-service';\nimport {Router} from 'aurelia-router';\n\n@inject(TweetService, EventAggregator, Router)\nexport class GlobalTimeline {\n\n  tweets = [];\n  router = null;\n\n  constructor(ts, ea, router) {\n    this.ts = ts;\n    this.router = router;\n    this.ts.getTweets();\n    ea.subscribe(TimelineUpdate, msg => {\n      this.tweets = msg.tweets;\n    });\n  }\n\n  goToUsersTimeline(id) {\n    this.router.navigateToRoute('user_timeline', {id: id});\n  }\n\n}\n","import {inject} from 'aurelia-framework';\nimport TweetService from '../../services/tweet-service';\n\n@inject(TweetService)\nexport class Login {\n\n  email = '';\n  password = '';\n\n  constructor(ts) {\n    this.ts = ts;\n  }\n\n  login(e) {\n    // console.log(`Trying to log in ${this.email}`);\n    this.ts.login(this.email, this.password);\n  }\n}\n","import TweetService from '../../services/tweet-service';\nimport {inject} from 'aurelia-framework';\nimport {EventAggregator} from 'aurelia-event-aggregator';\nimport {Router} from 'aurelia-router';\n\n\n@inject(TweetService, EventAggregator, Router)\nexport class Logout {\n\n  constructor(ts, ea, router) {\n    this.ts = ts;\n    this.ea = ea;\n    this.router = router\n  }\n\n  logout() {\n    this.ts.logout();\n    this.router.navigateToRoute('');\n  }\n}\n\n","import {inject} from 'aurelia-framework';\nimport TweetService from '../../services/tweet-service';\nimport {Router} from 'aurelia-router';\n\n@inject(TweetService, Router)\nexport class Signup {\n\n  firstName = '';\n  lastName = '';\n  email = '';\n  password = '';\n  repeatPassword = '';\n\n  constructor(ts, router) {\n    this.ts = ts;\n    this.router = router;\n  }\n\n  register(e) {\n    if (this.password === this.repeatPassword && this.firstName && this.lastName && this.email && this.password) {\n      this.ts.register(this.firstName, this.lastName, this.email, this.password);\n      this.ts.login(this.email, this.password);\n      this.router.navigateToRoute('login');\n    }\n  }\n}\n","import {inject} from 'aurelia-framework';\nimport TweetService from '../../services/tweet-service';\n\n@inject(TweetService)\nexport class Login {\n\n  tweetText = '';\n\n  constructor(ts) {\n    this.ts = ts;\n  }\n\n  makeTweet() {\n    if (this.tweetText !== '') {\n      this.ts.tweet(this.tweetText);\n      this.tweetText = '';\n    } else {\n      //TODO notify error that empty tweet is not allowed\n    }\n  }\n}\n","export class TweetTimeline {\n\n}\n","import {inject} from 'aurelia-framework';\nimport TweetService from '../../services/tweet-service';\nimport {EventAggregator} from 'aurelia-event-aggregator';\nimport {UserTimelineLoaded} from '../../services/messages';\nimport {Router} from 'aurelia-router';\nimport {DialogService} from 'aurelia-dialog';\nimport {Prompt} from '../../utils/prompt/prompt';\n\n@inject(TweetService, EventAggregator, Router, DialogService)\nexport class UserTimeline {\n\n  userName = '';\n  id = '';\n  userTweets = [];\n  loggedInUser = null;\n\n  constructor(ts, ea, router, ds) {\n    this.ts = ts;\n    this.ea = ea;\n    this.router = router;\n    this.ds = ds;\n    this.loggedInUser = this.ts.loggedInUser;\n    ea.subscribe(UserTimelineLoaded, res => {\n      this.userTweets = res.data;\n      if (this.userTweets.length) {\n        this.userName = this.userTweets[0].tweeter.firstName + ' ' + this.userTweets[0].tweeter.lastName;\n      }\n    });\n  }\n\n  activate(params) {\n    this.id = params.id;\n    this.ts.getUserTweets(params.id);\n    console.log(this.loggedInUser);\n  }\n\n  deleteTweet(id) {\n    this.ds.open({ viewModel: Prompt, model: 'Really delete this tweet?'}).then(response => {\n      if (!response.wasCancelled) {\n        this.ts.deleteTweet(id);\n      } else {\n        console.log('Cancelled');\n      }\n    });\n  }\n\n  followUser(id) {\n    this.ds.open({ viewModel: Prompt, model: 'Really follow this user?'}).then(response => {\n      if (!response.wasCancelled) {\n        this.ts.followUser(id, this.loggedInUser._id);\n        this.loggedInUser.followedUsers.push(id);\n        this.router.navigateToRoute('followed_users');\n      } else {\n        console.log('Cancelled');\n      }\n    });\n  }\n\n  unfollowUser(id) {\n    this.ds.open({ viewModel: Prompt, model: 'Really unfollow this user?'}).then(response => {\n      if (!response.wasCancelled) {\n        this.ts.unfollowUser(id, this.loggedInUser._id);\n        this.loggedInUser.followedUsers.pop(id);\n        this.router.navigateToRoute('followed_users');\n      } else {\n        console.log('Cancelled');\n      }\n    });\n  }\n}\n\n",null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],"sourceRoot":"../src"}